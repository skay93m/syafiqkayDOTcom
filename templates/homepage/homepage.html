{% extends "base/index.html" %}
{% load static %}
{% load furigana_extras %}
{% block content %}
<div class="container mt-5">
  <!-- Header Section -->
  <div class="text-center mb-5">
    <h1 class="display-4 mb-3">ğŸ¥· <ruby>é“å ´<rt>ã©ã†ã˜ã‚‡ã†</rt></ruby> ğŸ¥·</h1>
    <h2 class="h3 text-muted mb-4">Digital Dojo</h2>
    <p class="lead">Where ancient wisdom meets modern technology in the pursuit of mastery.</p>
    <p class="japanese-text jp-text text-center mb-4">
      ğŸ¥· <ruby>å¤ä»£<rt>ã“ã ã„</rt></ruby>ã®<ruby>çŸ¥æµ<rt>ã¡ãˆ</rt></ruby>ã¨<ruby>ç¾ä»£<rt>ã’ã‚“ã ã„</rt></ruby>ã®<ruby>æŠ€è¡“<rt>ãã˜ã‚…ã¤</rt></ruby>ãŒ<ruby>ç†Ÿç·´<rt>ã˜ã‚…ãã‚Œã‚“</rt></ruby>ã®<ruby>è¿½æ±‚<rt>ã¤ã„ãã‚…ã†</rt></ruby>ã§<ruby>å‡ºä¼š<rt>ã§ã‚</rt></ruby>ã†<ruby>å ´æ‰€<rt>ã°ã—ã‚‡</rt></ruby>ã€‚
    </p>
  </div>

  <!-- Philosophy Section -->
  <div class="row mb-5">
    <div class="col-md-12">
      <div class="card border-primary">
        <div class="card-body text-center">
          <h3 class="card-title mb-3 text-primary">ã€Œ<ruby>ä¸ƒè»¢<rt>ãªãªã“ã‚</rt></ruby>ã³<ruby>å…«èµ·<rt>ã‚„ãŠ</rt></ruby>ãã€</h3>
          <p class="card-text">Fall seven times, stand up eight.</p>
          <small class="jp-text japanese-text">
            <ruby>è–¬å­¦<rt>ã‚„ããŒã</rt></ruby>ã€<ruby>æ³•å¾‹<rt>ã»ã†ã‚Šã¤</rt></ruby>ã€<ruby>æŠ€è¡“<rt>ãã˜ã‚…ã¤</rt></ruby>ã®<ruby>å¤æ­¦è¡“<rt>ã“ã¶ã˜ã‚…ã¤</rt></ruby>ã‚’<ruby>ä¿®<rt>ãŠã•</rt></ruby>ã‚ã‚‹<ruby>ãƒ‡ã‚¸ã‚¿ãƒ«<rt>Digital</rt></ruby><ruby>ä¾<rt>ã•ã‚€ã‚‰ã„</rt></ruby>
          </small>
        </div>
      </div>
    </div>
  </div>
  <!-- Personal Statement Section -->
  {% if rirekisho %}
  <div class="row mb-5">
    <div class="col-md-12">
      <div class="card">
        <div class="card-header bg-success text-white">
          <h4 class="card-title mb-0">ğŸ¥· Personal Statement</h4>
          <h5 class="card-subtitle mb-0 jp-text japanese-text">ğŸ¥· <ruby>å€‹äºº<rt>ã“ã˜ã‚“</rt></ruby><ruby>å£°æ˜<rt>ã›ã„ã‚ã„</rt></ruby></h5>
        </div>
        <div class="card-body">
          <div class="card-text">{{ rirekisho.personal_statement|markdown }}</div>
          <div class="text-muted">
            <small>
              ğŸ“… Created: {{ rirekisho.created_at|date:"M d, Y H:i" }}
            </small>
          </div>
          <div class="text-muted jp-text japanese-text">
            <small>
              ğŸ“… <ruby>ä½œæˆ<rt>ã•ãã›ã„</rt></ruby><ruby>æ—¥æ™‚<rt>ã«ã¡ã˜</rt></ruby>: {{ rirekisho.created_at|date:"Yå¹´mæœˆdæ—¥ H:i" }}
            </small>
          </div>
        </div>
      </div>
    </div>
  </div>
  {% else %}
  <div class="row mb-5">
    <div class="col-md-12">
      <div class="card border">
        <div class="card-body text-center">
          <h4 class="card-title">ğŸ¥· Welcome to the Digital Dojo</h4>
          <p class="card-text">No Rirekisho data available. Please check back later.</p>
          <div class="jp-text japanese-text">
            <h5 class="card-title">ğŸ¥· <ruby>ãƒ‡ã‚¸ã‚¿ãƒ«<rt>Digital</rt></ruby><ruby>é“å ´<rt>ã©ã†ã˜ã‚‡ã†</rt></ruby>ã¸ã‚ˆã†ã“ã</h5>
            <p class="card-text"><ruby>å±¥æ­´æ›¸<rt>ã‚Šã‚Œãã—ã‚‡</rt></ruby><ruby>ãƒ‡ãƒ¼ã‚¿<rt>Data</rt></ruby>ãŒ<ruby>åˆ©ç”¨<rt>ã‚Šã‚ˆã†</rt></ruby>ã§ãã¾ã›ã‚“ã€‚<ruby>å¾Œ<rt>ã‚ã¨</rt></ruby>ã§ã”<ruby>ç¢ºèª<rt>ã‹ãã«ã‚“</rt></ruby>ãã ã•ã„ã€‚</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  {% endif %}
  <!-- LinkedIn section removed - now in footer -->
  <!-- Statistics Section -->
  <div class="row mb-5">
    <div class="col-12">
      <h3 class="mb-4 text-center">ğŸ“Š Dojo Statistics</h3>
      <h4 class="mb-4 jp-text japanese-text text-center">ğŸ“Š <ruby>é“å ´<rt>ã©ã†ã˜ã‚‡ã†</rt></ruby><ruby>çµ±è¨ˆ<rt>ã¨ã†ã‘ã„</rt></ruby></h4>
    </div>
  </div>
  
  <!-- Statistics Cards -->
  <div class="row mb-5">
    <div class="col-md-3">
      <div class="card border">
        <div class="card-body text-center">
          <h3 class="card-title text-primary">{{ statistics.daily_visitors }}</h3>
          <p class="card-text">Today's Visitors</p>
          <small class="jp-text japanese-text"><ruby>æœ¬æ—¥<rt>ã»ã‚“ã˜ã¤</rt></ruby>ã®<ruby>è¨ªå•è€…<rt>ã»ã†ã‚‚ã‚“ã—ã‚ƒ</rt></ruby></small>
        </div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card border">
        <div class="card-body text-center">
          <h3 class="card-title text-success">{{ statistics.total_visitors }}</h3>
          <p class="card-text">Total Visitors</p>
          <small class="jp-text japanese-text"><ruby>ç·<rt>ãã†</rt></ruby><ruby>è¨ªå•è€…<rt>ã»ã†ã‚‚ã‚“ã—ã‚ƒ</rt></ruby><ruby>æ•°<rt>ã™ã†</rt></ruby></small>
        </div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card border">
        <div class="card-body text-center">
          <h3 class="card-title text-warning">{{ statistics.weekly_visitors }}</h3>
          <p class="card-text">Weekly Visitors</p>
          <small class="jp-text japanese-text"><ruby>é€±é–“<rt>ã—ã‚…ã†ã‹ã‚“</rt></ruby><ruby>è¨ªå•è€…<rt>ã»ã†ã‚‚ã‚“ã—ã‚ƒ</rt></ruby><ruby>æ•°<rt>ã™ã†</rt></ruby></small>
        </div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card border">
        <div class="card-body text-center">
          <h3 class="card-title text-danger">{{ statistics.total_posts }}</h3>
          <p class="card-text">Total Posts</p>
          <small class="jp-text japanese-text"><ruby>ç·<rt>ãã†</rt></ruby><ruby>æŠ•ç¨¿<rt>ã¨ã†ã“ã†</rt></ruby><ruby>æ•°<rt>ã™ã†</rt></ruby></small>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Content Breakdown Section -->
  <div class="row mb-5">
    <div class="col-12">
      <h3 class="mb-4 text-center">ğŸ“š Content Arsenal</h3>
      <h4 class="mb-4 jp-text japanese-text text-center">ğŸ“š <ruby>ã‚³ãƒ³ãƒ†ãƒ³ãƒ„<rt>Content</rt></ruby><ruby>æ­¦å™¨åº«<rt>ã¶ãã“</rt></ruby></h4>
    </div>
  </div>
  
  <div class="row mb-5 content-arsenal">
    <div class="col-md-4 mb-3 mb-md-0">
      <div class="card border-primary">
        <div class="card-body text-center">
          <h3 class="card-title text-primary">{{ statistics.journal_count }}</h3>
          <p class="card-text">Journal Entries</p>
          <small class="jp-text japanese-text"><ruby>æ—¥è¨˜<rt>ã«ã£ã</rt></ruby>ã‚¨ãƒ³ãƒˆãƒªãƒ¼</small>
        </div>
      </div>
    </div>
    <div class="col-md-4 mb-3 mb-md-0">
      <div class="card border-success">
        <div class="card-body text-center">
          <h3 class="card-title text-success">{{ statistics.note_count }}</h3>
          <p class="card-text">Garden Notes</p>
          <small class="jp-text japanese-text"><ruby>ã‚¬ãƒ¼ãƒ‡ãƒ³<rt>Garden</rt></ruby>ãƒãƒ¼ãƒˆ</small>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card border-info">
        <div class="card-body text-center">
          <h3 class="card-title text-info">{{ statistics.reference_count }}</h3>
          <p class="card-text">References</p>
          <small class="jp-text japanese-text"><ruby>å‚è€ƒ<rt>ã•ã‚“ã“ã†</rt></ruby><ruby>æ–‡çŒ®<rt>ã¶ã‚“ã‘ã‚“</rt></ruby></small>
        </div>
      </div>
    </div>
  </div>
  <!-- Tag Cloud Section Removed as requested -->
  <!-- Statistics Update Info -->
  <div class="row mb-5">
    <div class="col-12">
      <div class="card border-secondary stats-update-block">
        <div class="card-body text-center py-4">
          <h5 class="text-muted mb-3">ğŸ“Š Statistics Information</h5>
          <p class="mb-1">
            Last updated: {{ statistics.today_date|date:"M d, Y" }}
          </p>
          <p class="jp-text japanese-text mb-0">
            <ruby>çµ±è¨ˆ<rt>ã¨ã†ã‘ã„</rt></ruby><ruby>æ›´æ–°<rt>ã“ã†ã—ã‚“</rt></ruby><ruby>æ—¥<rt>ã³</rt></ruby>: {{ statistics.today_date|date:"Yå¹´mæœˆdæ—¥" }}
          </p>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
/* Removed a4-width constraint for full-width layout */

.jp-text {
    font-size: 0.9em;
    color: #666;
}

.japanese-text {
    font-family: 'Noto Sans JP', sans-serif;
}

.card {
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    transition: transform 0.2s ease-in-out;
}

.card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

.tag-cloud-container {
    padding: 1rem;
    background: #f8f9fa;
    border-radius: 8px;
}

.badge {
    font-size: 0.8em;
}

.tag-cloud-item {
  padding: 0.3rem 0.8rem;
  border-radius: 20px;
  font-weight: 600;
  text-decoration: none;
  transition: all 0.3s ease;
  cursor: default;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  margin: 0.2rem;
}

.tag-cloud-item:hover {
  transform: translateY(-2px) scale(1.05);
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
  background: linear-gradient(135deg, #E91E63, #FF69B4);
  color: white;
}

/* Tag size variations */
.tag-cloud-item[style*="1.4rem"] {
  background: linear-gradient(135deg, #E91E63, #FF1493);
  color: white;
}

.tag-cloud-item[style*="1.3rem"] {
  background: linear-gradient(135deg, #FF69B4, #FFB6C1);
  color: #333;
}

.tag-cloud-item[style*="1.2rem"] {
  background: linear-gradient(135deg, #FFB6C1, #FFC0CB);
  color: #333;
}

.tag-cloud-item[style*="1.1rem"] {
  background: linear-gradient(135deg, #FFC0CB, #FFE4E1);
  color: #666;
}

.tag-cloud-item[style*="1.0rem"] {
  background: linear-gradient(135deg, #FFE4E1, #FFF0F5);
  color: #888;
}

.tag-count {
  font-size: 0.8em;
  opacity: 0.7;
  margin-left: 0.3rem;
}

/* Responsive Design */
@media (max-width: 768px) {
  .statistics-section {
    padding: 1rem;
  }
  
  .stat-card {
    padding: 1rem;
    margin-bottom: 1rem;
  }
  
  .stat-number {
    font-size: 2rem;
  }
  
  .content-stat {
    flex-direction: column;
    text-align: center;
  }
  
  .content-icon {
    margin-right: 0;
    margin-bottom: 0.5rem;
  }
}

/* Japanese text styling */
.jp-text.japanese-text {
  font-size: 0.9em;
  color: #666;
  font-style: italic;
}

/* Improved contrast for Japanese text on colored backgrounds */
.card.bg-info .jp-text.japanese-text,
.card.bg-secondary .jp-text.japanese-text,
.card.bg-dark .jp-text.japanese-text {
  color: #e9ecef;
}

/* Markdown content styling */
.card-text h2 {
  font-size: 1.5rem;
  margin-top: 1.5rem;
  margin-bottom: 1rem;
  color: #333;
}

.card-text h3 {
  font-size: 1.3rem;
  margin-top: 1.2rem;
  margin-bottom: 0.8rem;
  color: #555;
}

.card-text ul {
  margin-left: 1.5rem;
  margin-bottom: 1rem;
}

.card-text li {
  margin-bottom: 0.5rem;
}

.card-text p {
  margin-bottom: 1rem;
  line-height: 1.6;
}
</style>

{% endblock %}
